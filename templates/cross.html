<!DOCTYPE html>
<html lang="ch">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>è·¨åŸŸè½¬æ¢</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/cross.css')}}">
<<<<<<< Updated upstream
    <script src="{{ url_for('static', filename='js/jquery.min.js')}}">
=======
    <link rel="shortcut icon" type="image/png" href="{{ url_for('static', filename='image/favicon.png')}}">
    <script src="https://code.jquery.com/jquery-1.8.3.min.js">
>>>>>>> Stashed changes
    </script>
    
    
</head>

<body>
<!--é¡µé¢ä¿¡æ¯-->
<div id="landing">
<div id="back"><img src="{{ url_for('static', filename='image/human1.png')}}"/></div>
<div id="front"> </div>
<div id="mask"><img src="{{ url_for('static', filename='image/human2.png')}}"/></div>
</div>
<div id="title">
<h1>æ—¶å…‰æœº-è·¨åŸŸè½¬æ¢</h1>
<p>é€šè¿‡æ·±åº¦å­¦ä¹ ï¼Œå®ç°å¤´åƒç´ æä»ä¸€ä¸ªé£æ ¼åŸŸåˆ°å¦ä¸€ä¸ªé£æ ¼åŸŸçš„è·¨åŸŸè½¬æ¢ã€‚</p>
<button id="gotoTry">è¯•è¯•çœ‹</button>
</div>
<!--å‘ä¸‹æ»š-->
<div id="scroll">
<div id="pro">

<div id="proSub">
<div class="proSub1">
<div id="proicon1">
<div class="icon1"></div><div class="icon2"></div><div class="icon3"></div><div class="icon4"></div> 
</div>
<div class="proh3"><h3>ç¥å½¢å…¼å¤‡</h3></div>
<div class="prop"><p>æ—¢ä¿ç•™æœ¬ä½“å½¢æ€,åˆå…¼é¡¾è½¬æ¢é£æ ¼ç‰¹å¾ã€‚</p></div>
</div>
<div class="proSub1">
<div id="proicon2">
<div class="icon1"></div><div class="icon2"></div><div class="icon3"></div><div class="icon4"></div>     
</div>
<div class="proh3"><h3>éšå¿ƒæ‰€åŸŸ</h3></div>
<div class="prop"><p>å¤´åƒè·¨æ¬¡å…ƒ,æ—¶ç©ºåŠå¤šé¢†åŸŸæ™ºèƒ½è½¬æ¢ã€‚</p></div> 
</div>
<div class="proSub1">
<div id="proicon3">
<div class="icon1"></div>
<div class="icon2">
    <video width="100%" height="100%" autoplay muted loop>
        <source src="{{ url_for('static', filename='image/yaocen1.mp4')}}" type="video/mp4">
    </video>
</div>
<div class="icon3">
    <video width="100%" height="100%" autoplay muted loop>
        <source src="{{ url_for('static', filename='image/yaocen.mp4')}}" type="video/mp4">
    </video>
</div>
</div>
<div class="proh3"><h3>å®æ—¶è½¬æ¢</h3></div>
<div class="prop"><p>æ”¯æŒå›¾ç‰‡é€Ÿè½¬åŠè§†é¢‘æµå®æ—¶è½¬æ¢ã€‚</p></div>
</div>
</div>
</div>
    
<!--èƒ½åŠ›æ¼”ç¤º-->
<div id="studyProcess">
<div class="mainInfo" id="studyInfo">
<div><h1>èƒ½åŠ›æ¼”ç¤º</h1></div>
<div><p>é€‰æ‹©å¤´åƒä½“éªŒè·¨åŸŸè½¬æ¢èƒ½åŠ›ï¼Œè¯¥èƒ½åŠ›æ¼”ç¤ºåŸºäº<a href="#">è·¨åŸŸè½¬æ¢API</a>æ­å»ºï¼Œ
å¦‚æœæ‚¨å¯¹æŠ€æœ¯èƒ½åŠ›æœ‰ç‰¹åˆ«è¦æ±‚ï¼Œæ¬¢è¿è”ç³»æˆ‘ä»¬ã€‚</p></div>
</div>
<div id="tryAbility"> 
<div class="sideByside1">
<div id="before">
<div><p>åŸå›¾</p></div>
</div>
<div id="upload">
<div class="originpic1"><div id="originpic1"><p>ä¾‹1</p></div></div>
<div class="originpic2"><div id="originpic2"><p>ä¾‹2</p></div></div> 

<input type="file" id="myFile" accept="image/jpeg,image/png,image/jpg" name="filename" onchange="changepic(this,event,1)">
<label for="myFile" id="inputLabel">ä¸Šä¼ å¤´åƒ</label>
    
</div>
</div> 

<div class="sideByside2">
<div id="after">
<div><p>æ•ˆæœ</p></div>    
</div>
<div id="styleChoose">
<div class="style1"><div id="style1"><p>ä¸­ä¸–çºª</p></div></div>
    
</div> 
</div>     
</div>   

</div>
    
<!--åº”ç”¨æ¡ˆä¾‹-->
<div id="case">
<div class="mainInfo" id="caseInfo">
<div><h1>åº”ç”¨æ¡ˆä¾‹</h1></div>
<div><p>å¯ç”¨äºåˆ¶ä½œé™æ€æˆ–åŠ¨æ€å¤´åƒ</p></div>
</div>
<div class="pic" id="pic4">
<div id="crosscase1"><div class="casebefore"></div><div class="caseafter"></div></div> 
<div id="crosscase2"><div class="casebefore"></div><div class="caseafter"></div></div> 
<div id="crosscase3"><div class="casebefore"></div><div class="caseafter"></div></div> 
<div id="crosscase4"><div class="casebefore"></div><div class="caseafter"></div></div> 
<div id="crosscase5"><div class="casebefore"></div><div class="caseafter"></div></div> 
<div id="crosscase6"><div class="casebefore"></div><div class="caseafter"></div></div> 
<div id="crosscase7"><div class="casebefore"></div><div class="caseafter"></div></div> 
</div>
</div>
<!--å…¶ä»–èƒ½åŠ›-->
<div id="more">
<div class="mainInfo" id="moreInfo">
<div><h1>å°è¯•å…¶ä»–å°ç»˜æ™ºèƒ½è®¾è®¡èƒ½åŠ›</h1></div>
</div>
<div id="moreSub">
    
<div onclick="window.location.href= '/gdesign';return false">
<div class="othericon"></div>
<div><h3>æœ›è¿œé•œ</h3><p>èƒŒæ™¯æ‹“å±•å·¥å…·</p></div>
<div></div>
</div>
    
<div onclick="window.location.href= '/transfer';return false">
<div class="othericon"></div>
<div><h3>ä¸‡èŠ±ç­’</h3><p>é£æ ¼è¿ç§»å·¥å…·</p></div>
</div>
    
</div>
</div>
    
<!--é¡µè„š-->
<div id="footer"> 
<div id="leftSide">
<div></div>
<p id="groupName">è”æƒ³ç ”ç©¶é™¢ç”¨æˆ·ä½“éªŒè®¾è®¡</p> 
<p id="email">è”ç³»é‚®ç®±ï¼šyangzhi3@lenovo.com</p>

</div>   
<div id="rightSide">
<p>å…³æ³¨å…¬ä¼—å·â€œè”æƒ³ç ”ç©¶é™¢UXDâ€<br>è·å–æ›´å¤šæœ‰è¶£çš„èµ„è®¯~</p>
<div></div>
</div> 
</div>
<div id="line"></div>
<div id="middleSide"><p><span>Made with</span> ğŸ§¡â¤ï¸ğŸ§¡â¤ï¸ğŸ§¡â¤ï¸ğŸ§¡ <span>by UXD Lenovo Research</span></p></div>  
</div>
<!--ä¸åŠ¨äº§-->
<div id="navback"></div>
<div class="nav">
      
        <div class="logo">
                <a href="/">
                <img src="{{ url_for('static', filename='image/logowhite.svg')}}" width=100% height=auto />
                </a>
        </div>
        
        <nav class="dropdownmenu">
        <ul>
        <li><a href="/" class="mainMenu">ä¸»é¡µ</a></li>
        <li id="gdesign"><a href="#" class="mainMenu">èƒ½åŠ›å±•ç¤º</a>
        <ul id="submenu">
        <li><a href="/gdesign">æœ›è¿œé•œ</a></li>
        <li><a href="/transfer">ä¸‡èŠ±ç­’</a></li>
        <li><a href="/cross">æ—¶å…‰æœº</a></li>
        </ul>
        </li>
        <li><a href="#" class="mainMenu">APIæ¥å…¥</a></li>
        <li><a href="/about" class="mainMenu">å…³äºæˆ‘</a></li>
        </ul>
        </nav>
            
        <div class="english">
         <a href="#">
         <p>EN</p>
         </a>
        </div>
        </div>

    
<!--jsä»£ç -->
<script type="text/javascript"> 
    //èµ‹å€¼å˜é‡
    var tryPosition = $('#studyProcess').offset().top;
    var casePosition= $('#case').offset().top;
    var oBox = document.getElementById('mask'),
        windowTop=0,
        windowH=window.innerHeight,
        proDiv=document.getElementById("pro"),
        proH=proDiv.offsetHeight,
        videoH=document.getElementById("studyProcess").offsetHeight,
        leftdownHint=$(".leftdown div"),
        scrolldiv=document.getElementsByClassName("flexslider"),
        leftdownSvg=$(".leftdown svg g g "),
        contactSvg=$(".contact svg g g "),
        logoChange=$("#logoChange g g"),
        english=$(".english a"),
        mainMenu=$(".mainMenu"),
        normalGray="#444553",
        whiteColor="white",
        contact=$(".contact"),
        leftDown=$(".leftdown"),
        flexslider=$(".flexslider"),
        qrcode=$(".qrcode"),
        qrcodeP=$(".qrcode p"),
        timeSpace=500;
    //é¡µé¢åŠ è½½
    window.onload=function(){
        /*ç‚¹å‡»è¯•è¯•çœ‹é¡µé¢æ»‘åŠ¨*/
        $("#title button").on("click",function(){
            window.scrollTo({ 
            top: tryPosition, 
            behavior: "smooth" 
        });
        })
        
        //é¼ æ ‡æ‚¬åœ
        contact.mouseenter(
                function () {
                    qrcode.css("width","20rem").css("height","24rem");
                    qrcodeP.css("opacity","1");
                    contact.css("opacity","1");
                });
        contact.mouseleave(
                function () {
                    qrcode.css("width","0rem").css("height","0rem");
                    qrcodeP.css("opacity","0");
                    contact.css("opacity","0.8");
                });
        leftDown.mouseenter(
                function () {
                    leftdownHint.css("opacity",1);
                });
        leftDown.mouseleave(
                function () {
                    leftdownHint.css("opacity",0);
                });
        slider(flexslider,4,160*0.6);
        
        //æ¢ç…§ç¯
        window.onmousemove = function(e){
        e = e || event;
        oBox.style.WebkitMaskPosition=(e.clientX-350)+"px "+ (e.clientY-350)+"px";
        }
        
        //èµ°é©¬ç¯
        function slider(who,totalSlides,width){
        var currentSlide=1;
        var interval;
        function startslide(){
        interval=setInterval(function(){
        who.animate({'margin-left':'-='+width+'rem'},timeSpace*2,function(){
        currentSlide++;
            if(currentSlide==totalSlides){
                currentSlide=1;
                who.css("margin-left",0);
            }
        });
        },3000);}
        function pauseslide(){
        clearInterval(interval);
        }
        $(".box").on("mouseenter",pauseslide).on("mouseleave",startslide);
        startslide();
        };
        
         // ä¸Šä¸‹æ»‘åŠ¨
        $(window).scroll(function() {
        let scrollS = $(this).scrollTop();
        //å¯¼èˆªå˜åŒ–
        if(scrollS>10){
        $(".nav").css("top","9px");// ä¸Šæ»‘æ—¶è¦åšçš„äº‹ï¼ˆä¸Šç§»ä¸€ç‚¹ï¼‰
        $("#navback").css("opacity","1");   
        }else{
        $(".nav").css("top","30px");// ä¸Šæ»‘æ—¶è¦åšçš„äº‹ï¼ˆä¸Šç§»ä¸€ç‚¹ï¼‰
        $("#navback").css("opacity","0");  
        }
        //æ»šåŠ¨é¡µé¢åŠ¨æ•ˆ
        var disappear=1-(scrollS/windowH)*2;
        $("#title").css("opacity",disappear);
        var coverOpacity=((scrollS-(proH+windowH))/windowH);
        $("#videoCover").css("opacity",coverOpacity); 

        //caseå¾®åŠ¨
        var tryHeight=$("#demo").height();
        
        if(scrollS>tryPosition+tryHeight-windowH){
            var caseMove=(scrollS-casePosition)*(1/windowH)*130;
            $("#crosscase1").css("transform","translateY("+caseMove+"px)");
            $("#crosscase3").css("transform","translateY("+caseMove+"px)");
            $("#crosscase5").css("transform","translateY("+caseMove+"px)");
            $("#crosscase7").css("transform","translateY("+caseMove+"px)");
        }
        //å›¾å½¢å…ƒç´ å¾®åŠ¨
        
        var pM=scrollS*0.05; 
        $("#proicon1 .icon1").css("transform","translateY("+(-pM)+"px)");
        $("#proicon1 .icon2").css("transform","translate("+(-pM)+"px,"+(-pM)+"px)");
        $("#proicon1 .icon3").css("transform","translate("+pM/2+"px,"+pM+"px)");
        $("#proicon1 .icon4").css("transform","translate("+pM/2+"px,"+pM+"px)");
        var maskSize="calc(6vw + "+(pM*1.5)+"px) calc(11vw + "+(-pM*2)+"px)";
        // console.log(maskSize);
        $("#proicon1 .icon4").css("-webkit-mask-size",maskSize);
        
        $("#proicon2 .icon1").css("transform","translateY("+(-pM/2)+"px)");
        $("#proicon2 .icon2").css("transform","translate("+(-pM/2)+"px,"+pM/2+"px)");
        $("#proicon2 .icon3").css("transform","translate("+pM/2+"px,"+pM/2+"px)");
        // $("#proicon2 .icon4").css("transform","translate("+pM/2+"px,"+pM/2+"px)");
            
        $("#proicon3 .icon1").css("transform","translate("+(-pM/2)+"px,"+pM+"px)");
        $("#proicon3 .icon2").css("transform","translate("+(-pM/2)+"px,"+pM+"px)");
        $("#proicon3 .icon3").css("transform","translate("+pM/2+"px,"+(-pM)+"px)");
        
        
       
        });
    }
    
      //è¡¨å•éƒ¨åˆ†
    
    var camp="{{ url_for('static', filename='image/man1.png')}}";
    var scooter="{{ url_for('static', filename='image/woman1.png')}}";
  
    var camp1="{{ url_for('static', filename='image/man2.png')}}";
    var scooter1="{{ url_for('static', filename='image/woman2.png')}}";
  
    
    //åˆ‡æ¢å·²æœ‰åŸå›¾
    styleChange(camp1);
    $("#originpic1").click(function(){
        changePlaceholder(camp,camp1);
        styleChange(camp1);
        styleBorder("#originpic",1,3);
    });
    $("#originpic2").click(function(){
        changePlaceholder(scooter,scooter1);
        styleChange(scooter1);
        styleBorder("#originpic",2,3);
    });
    $("#originpic1").trigger("click");
    
    
    
    /*var imgbase;*/
    function changepic(obj,event,styleName) {
        var newsrc=getObjectURL(obj.files[0]);
        $("#before").css("backgroundImage","url("+newsrc+")");
        //base64è½¬æ¢
        var file = event.target.files[0];
        var reader = new FileReader();
        reader.onload = function(event) {
        var imgbase=event.target.result;
        var imgbaseBack=imgbase.split(",")[1];
        var imgbaseFront=imgbase.split(",")[0]
        var imgInfo={
            "Base64Data":imgbaseBack,
            "gender": "mix",
            "domain":"medieval"
        };
            
        // console.log(imgInfo);
            
        //postç»™æœåŠ¡å™¨
        $.ajax({
            type:'POST',
            url:'/cross-domain',
            contentType:'application/json',
            data:JSON.stringify(imgInfo),
            dataType:'json',
            success:function(data){
            var finaldata=imgbaseFront+","+data.result;
            $("#after").css("backgroundImage","url("+finaldata+")"); 
            console.log(finaldata);
            },
            error:function(err){
            console.log(err);
            },
        });
        };
        reader.readAsDataURL(file);
        
        
    }

   
    
    //å»ºç«‹ä¸€å€‹å¯å­˜å–åˆ°è©²fileçš„url
    function getObjectURL(file) {
        var url = null ;
        // ä¸‹é¢å‡½æ•°æ‰§è¡Œçš„æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯éœ€è¦é’ˆå¯¹ä¸åŒçš„æµè§ˆå™¨æ‰§è¡Œä¸åŒçš„ js å‡½æ•°è€Œå·²
        if (window.createObjectURL!=undefined) { // basic
            url = window.createObjectURL(file) ;
            } else if (window.URL!=undefined) { // mozilla(firefox)
            url = window.URL.createObjectURL(file) ;
            } else if (window.webkitURL!=undefined) { // webkit or chrome
            url = window.webkitURL.createObjectURL(file) ;
            }
            return url ;
    }
    
    //æŒ‰é’®çŠ¶æ€æ”¹å˜
    function styleBorder(which,num,total){
        for(i=1;i<=total;i++){
            if(i==num){
            $(which+i).css("border","3px solid #5376FF");
            }else{
            $(which+i).css("border","none"); 
            }
        }  
    }
    
    //åˆ‡æ¢é£æ ¼å›¾
    function styleChange(sty1){
        
        
        $("#style1").click(function(){/*$("#after").css("backgroundImage","url("+sty1+")");*/
         styleBorder("#style",1,5);                      
                                     });
       
        
        $("#style1").trigger("click");
        };
    
    //æ›¿æ¢å ä½å›¾
    function changePlaceholder(toWhat,which){
        $("#before").css("backgroundImage","url("+toWhat+")");
        $("#after").css("backgroundImage","url("+which+")");
    }
    
    
    var caseHeight1=document.getElementById("crosscase2").clientWidth;
    var caseHeight2=document.getElementById("crosscase4").clientWidth;
    var caseHeight3=document.getElementById("crosscase6").clientWidth;
    
    start($("#crosscase2 .casebefore"),caseHeight1);
    start($("#crosscase2 .caseafter"),caseHeight1);
    
    start($("#crosscase4 .casebefore"),caseHeight2);
    start($("#crosscase4 .caseafter"),caseHeight2);
    
    start($("#crosscase6 .casebefore"),caseHeight3);
    start($("#crosscase6 .caseafter"),caseHeight3);
    //åºåˆ—å¸§åŠ¨ç”»ï¼ˆdivï¼Œæ¯æ¬¡åŠ¨å¤šå°‘ï¼Œå¤šå°‘å¼ ï¼‰
    function start(aniPosition,step){
        var i=0;
        setInterval(
        function(){
            
            i += -step;
            aniPosition.css('background-position',"0px " + i + "px");
            
        }, 70);}
</script> 
</body>
  
    
   

</html>