<!DOCTYPE html>
<html lang="ch">
<head>
    <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!--<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">-->
    <title>è®¾è®¡ç”Ÿæˆ</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/gdesign.css')}}">
    <script src="https://code.jquery.com/jquery-1.8.3.min.js">
    </script>
    
    
</head>

<body>
<!--é¡µé¢ä¿¡æ¯-->
<div id="landing">
<div id="back"><video width="100%" height="auto" autoplay muted loop>
<source src="{{ url_for('static', filename='image/gdesign.mp4')}}" type="video/mp4">
</video></div>
<div id="front"> </div>
</div>
    
<div id="title">
<h1>æœ›è¿œé•œ-èƒŒæ™¯æ‹“å±•å·¥å…·</h1>
<p>è®¾è®¡ç”Ÿæˆæ˜¯é™ç»´ç¥ç»ç½‘ç»œä¸èµ„æ·±è®¾è®¡å¸ˆå…ˆéªŒç»éªŒçš„ç»“åˆï¼Œå¯åº”ç”¨äºå¿«é€Ÿç”Ÿæˆå¼ å¼ ä¸åŒçš„æŠ½è±¡èƒŒæ™¯ç´ æã€‚</p>
<button id="gotoTry">è¯•è¯•çœ‹</button>
</div>
<!--å‘ä¸‹æ»š-->
<div id="scroll">
<div id="pro">

<div id="proSub">
<div class="proSub1">
<div id="proicon1">
<div class="icon1"></div><div class="icon2"></div>     
</div>
<div class="proh3"><h3>ä¸€ç§’åƒå¼ </h3></div>
<div class="prop"><p>è§†è§‰ç´ ææ‰¹é‡æé€Ÿç”Ÿæˆ,åŠ©åŠ›é«˜æ•ˆå·¥ä½œ</p></div>
</div>
<div class="proSub1">
<div id="proicon2">
<div class="icon1"></div><div class="icon2"></div><div class="icon3"></div><div class="icon4"></div>    
</div>
<div class="proh3"><h3>å¼ å¼ ç‹¬ç‰¹</h3></div>
<div class="prop"><p>æ¯å¼ ç´ æç‹¬ä¸€æ— äºŒ,ä¸åŸ‹æ²¡è®¾è®¡çš„ä¸ªæ€§</p></div> 
</div>
<div class="proSub1">
<div id="proicon3">
<div class="icon1"></div><div class="icon2"></div><div class="icon3"></div>     
</div>
<div class="proh3"><h3>æ•ˆæœä¿è¯</h3></div>
<div class="prop"><p>ç”Ÿæˆæ•ˆæœæŠŠå…³,ç¡®ä¿è®¾è®¡é£æ ¼ç¨³å®š</p></div>
</div>
</div>
</div>
    
<!--å­¦ä¹ è¿‡ç¨‹-->
<div id="studyProcess">
<div id="dec1"></div>
<div id="dec2"></div>
<div id="dec3"></div>
<div id="dec4"></div>
<div class="mainInfo" id="studyInfo">
<div><h1>å­¦ä¹ è¿‡ç¨‹</h1></div>
<div><p>åƒäººç±»ä¸€æ ·å­¦ä¹ ï¼Œå¹¶ä¸”æ›´æœ‰æ¡ç†</p></div>
</div>
<div id="videoStudy"> 
<video width="100%" height="100%" autoplay muted loop>
<source src="{{ url_for('static', filename='image/gdesignprocess.mp4')}}" type="video/mp4">
</video>
</div>
</div>
    
<!--èƒ½åŠ›æ¼”ç¤º --> 
<div id="demo">
<div class="mainInfo" id="demoInfo">
<div><h1>èƒ½åŠ›æ¼”ç¤º</h1></div>
<div><p>ç‚¹å‡»ä»»æ„å›¾ç‰‡ä½“éªŒå®šå‘æ— é™èƒŒæ™¯ç”Ÿæˆèƒ½åŠ›ï¼Œè¯¥èƒ½åŠ›æ¼”ç¤ºåŸºäº<a href="#">è®¾è®¡ç”ŸæˆAPI</a>æ­å»ºï¼Œ
<br>å¦‚æœæ‚¨å¯¹æŠ€æœ¯èƒ½åŠ›æœ‰ç‰¹åˆ«è¦æ±‚ï¼Œæ¬¢è¿è”ç³»æˆ‘ä»¬ã€‚</p></div>
</div>
<div id="demoloading"></div>
<div id="demoPart">
<div id="demoTitle">
<p>éšæœºç”Ÿæˆï¼š</p>
<div>
<!--<button>ä¸Šä¸€æ‰¹</button>-->
<button onclick="getImage();$('#demoloading').show();
       $('#demoPart').hide();">ä¸‹ä¸€æ‰¹</button>
</div>
</div>
<div id="demoFirstline">
<div><img id="triggerone" src="#" /></div>
<div><img src="#" /></div>
<div><img src="#" /></div>
<div><img src="#" /></div>
<div><img src="#" /></div>
</div>
    
<div id="demoSecondline">
<div><img src="#" /></div>
<div><img src="#" /></div>
<div><img src="#" /></div>
<div><img src="#" /></div>
<div><img src="#" /></div>    
</div>
</div>

</div>

<!--åº”ç”¨æ¡ˆä¾‹ --> 
<div id="case">
<div class="mainInfo" id="caseInfo">
<div><h1>åº”ç”¨æ¡ˆä¾‹</h1></div>
<div><p>å¤šåœºæ™¯åº”ç”¨çš„è§†è§‰ç´ æ</p></div>
</div>
<div class="pic" id="pic4">
<div id="packaging">
<div class="gray" id="packUp"></div>
<div id="packLeft">
    <div class="gray" id="packLeft1"></div><div class="gray" id="packLeft2"></div><div id="packLeft3"><h1>PACKAGING</h1></div>
</div>
<div id="packRight">
    <div class="gray" id="packRight1"></div><div class="gray" id="packRight2"></div>
</div> 
</div>  
    
<div id="advertising">
<div id="adverLeft">
    <div class="gray" id="adverLeft1"></div><div class="gray" id="adverLeft2"></div><div id="adverLeft3"><h1>ADVERTISEMENT</h1></div><div class="gray" id="adverLeft4"></div><div class="gray" id="adverLeft5"></div>
</div>
<div id="adverRight">
    <div class="gray" id="adverRight1"></div><div class="gray" id="adverRight2"></div><div class="gray" id="adverRight3"></div><div class="gray" id="adverRight4"></div>   
</div>
</div> 
    
<div id="brand">
<div id="brandLeft">
    <div id="brandLeft1"><h1>BRAND</h1></div><div class="gray" id="brandLeft2"></div><div class="gray" id="brandLeft3"></div><div class="gray" id="brandLeft4"></div>  
</div>
<div id="brandRight">
    <div class="gray" id="brandRight1"></div><div id="brandRight2"><h1>INTERACTION</h1></div><div class="gray" id="brandRight3"></div><div class="gray" id="brandRight4"></div>
</div>
</div> 
    
</div>
</div>   
<!--æ›´å¤šåŠŸèƒ½-->
<div id="more">
<div class="mainInfo" id="moreInfo">
<div><h1>å°è¯•å…¶ä»–å°ç»˜æ™ºèƒ½è®¾è®¡èƒ½åŠ›</h1></div>
</div>
<div id="moreSub">
    
<div onclick="window.location.href= '/transfer';return false">
<div class="othericon"></div>
<div><h3>ä¸‡èŠ±ç­’</h3><p>é£æ ¼è¿ç§»å·¥å…·</p></div>
<div></div>
</div>
    
<div onclick="window.location.href= '/cross';return false">
<div class="othericon"></div>
<div><h3>æ—¶å…‰æœº</h3><p>è‚–åƒç»˜åˆ¶å·¥å…·</p></div>
</div>
    
</div>
</div>
    
<!--é¡µè„š-->
<div id="footer"> 
<div id="leftSide">
<div></div>
<p id="groupName">è”æƒ³ç ”ç©¶é™¢ç”¨æˆ·ä½“éªŒè®¾è®¡</p> 
<p id="email">è”ç³»é‚®ç®±ï¼šyangzhi3@lenovo.com</p>

</div>   
<div id="rightSide">
<p>å…³æ³¨å…¬ä¼—å·â€œè”æƒ³ç ”ç©¶é™¢UXDâ€<br>è·å–æ›´å¤šæœ‰è¶£çš„èµ„è®¯~</p>
<div></div>
</div> 
</div>
<div id="line"></div>
<div id="middleSide"><p><span>Made with</span> ğŸ§¡â¤ï¸ğŸ§¡â¤ï¸ğŸ§¡â¤ï¸ğŸ§¡ <span>by UXD Lenovo Research</span></p></div>  

</div>
<!--ä¸åŠ¨äº§-->
<div id="navback"></div>
<div class="nav">
      
        <div class="logo">
                <a href="/">
                <img src="{{ url_for('static', filename='image/logowhite.svg')}}" width=100% height=auto />
                </a>
        </div>
        
        <nav class="dropdownmenu">
        <ul>
        <li><a href="/" class="mainMenu">ä¸»é¡µ</a></li>
        <li id="gdesign"><a href="#" class="mainMenu">èƒ½åŠ›å±•ç¤º</a>
        <ul id="submenu">
        <li><a href="/gdesign">æœ›è¿œé•œ</a></li>
        <li><a href="/transfer">ä¸‡èŠ±ç­’</a></li>
        <li><a href="/cross">æ—¶å…‰æœº</a></li>
        </ul>
        </li>
        <li><a href="/api" class="mainMenu">APIæ¥å…¥</a></li>
        <li><a href="/about" class="mainMenu">å…³äºæˆ‘</a></li>
        </ul>
        </nav>
            
        <div class="english">
         <a href="#">
         <p>EN</p>
         </a>
        </div>
</div>

    
<!--jsä»£ç -->
<script type="text/javascript"> 
    //èµ‹å€¼å˜é‡
    var tryPosition = $('#demo').offset().top;
    var oBox = document.getElementById('mask'),
        windowTop=0,
        windowH=window.innerHeight,
        proDiv=document.getElementById("pro"),
        proH=proDiv.offsetHeight,
        videoH=document.getElementById("studyProcess").offsetHeight,
        leftdownHint=$(".leftdown div"),
        scrolldiv=document.getElementsByClassName("flexslider"),
        leftdownSvg=$(".leftdown svg g g "),
        contactSvg=$(".contact svg g g "),
        logoChange=$("#logoChange g g"),
        english=$(".english a"),
        mainMenu=$(".mainMenu"),
        normalGray="#444553",
        whiteColor="white",
        contact=$(".contact"),
        leftDown=$(".leftdown"),
        flexslider=$(".flexslider"),
        qrcode=$(".qrcode"),
        qrcodeP=$(".qrcode p"),
        timeSpace=500;
    //é¡µé¢åŠ è½½
   
    window.onload=function(){
        //ç”Ÿæˆåå¼ å›¾
        getImage();

        /*ç‚¹å‡»è¯•è¯•çœ‹é¡µé¢æ»‘åŠ¨*/
        $("#title button").on("click",function(){
            window.scrollTo({ 
            top: tryPosition, 
            behavior: "smooth" 
        });
        })
        //é¼ æ ‡æ‚¬åœ
        contact.mouseenter(
                function () {
                    qrcode.css("width","20rem").css("height","24rem");
                    qrcodeP.css("opacity","1");
                    contact.css("opacity","1");
                });
        contact.mouseleave(
                function () {
                    qrcode.css("width","0rem").css("height","0rem");
                    qrcodeP.css("opacity","0");
                    contact.css("opacity","0.8");
                });
        leftDown.mouseenter(
                function () {
                    leftdownHint.css("opacity",1);
                });
        leftDown.mouseleave(
                function () {
                    leftdownHint.css("opacity",0);
                });
        
         // ä¸Šä¸‹æ»‘åŠ¨
        $(window).scroll(function() {
        let scrollS = $(this).scrollTop();
        //å¯¼èˆªå˜åŒ–
        if(scrollS>10){
        $(".nav").css("top","9px");// ä¸Šæ»‘æ—¶è¦åšçš„äº‹ï¼ˆä¸Šç§»ä¸€ç‚¹ï¼‰
        $("#navback").css("opacity","1");   
        }else{
        $(".nav").css("top","30px");// ä¸Šæ»‘æ—¶è¦åšçš„äº‹ï¼ˆä¸Šç§»ä¸€ç‚¹ï¼‰
        $("#navback").css("opacity","0");  
        }
        //æ»šåŠ¨é¡µé¢åŠ¨æ•ˆ
        var disappear=1-(scrollS/windowH)*2;
        $("#title").css("opacity",disappear);
        var coverOpacity=((scrollS-(proH+windowH))/windowH);
        $("#videoCover").css("opacity",coverOpacity); 
            
        //caseå¾®åŠ¨
        var tryHeight=$("#demo").height();
        if(scrollS>tryPosition+tryHeight*1/3){
            var caseMove=(scrollS-tryPosition-tryHeight)*0.1;
            $("#packaging").css("transform","translateY("+caseMove+"px)");
            $("#brand").css("transform","translateY("+caseMove+"px)");
        }
        //å›¾å½¢å…ƒç´ å¾®åŠ¨
        var proPosition = $('#proSub').offset().top;
        var proHeight=$("#proSub").height();
        if(scrollS>proPosition/2){
        var squreMove=(scrollS-proPosition-proHeight)*0.2;
        $("#dec1").css("transform","translateY("+squreMove+"px)");
        $("#dec2").css("transform","translateY("+(-squreMove)+"px)");
        $("#dec3").css("transform","translateY("+squreMove+"px)");
        $("#dec4").css("transform","translateY("+(-squreMove)+"px)");
        }
        
        var pM=scrollS*0.05; 
        $("#proicon1 .icon1").css("transform","translate("+pM/2+"px,"+pM+"px)");
        $("#proicon1 .icon2").css("transform","translate("+(-pM)+"px,"+(-pM)+"px)");
        
        $("#proicon2 .icon1").css("transform","translate("+(-pM/2)+"px,"+(-pM/2)+"px)");
        $("#proicon2 .icon2").css("transform","translate("+pM/2+"px,"+(-pM/2)+"px)");
        $("#proicon2 .icon3").css("transform","translate("+(-pM/2)+"px,"+pM/2+"px)");
        $("#proicon2 .icon4").css("transform","translate("+pM/2+"px,"+pM/2+"px)");
            
        $("#proicon3 .icon1").css("transform","translate("+(-pM/2)+"px,"+pM+"px)");
        $("#proicon3 .icon3").css("transform","translate("+pM/2+"px,"+(-pM)+"px)");
        
        });
        //èƒ½åŠ›æ¼”ç¤ºéƒ¨åˆ†
        //hoverä¸Šå»èµ‹äºˆçš„åŠŸèƒ½ï¼šhoveræ•ˆæœï¼ŒdownloadåŠŸèƒ½
        function whenHover(who){
          who.hover(function(){
          who.append("<button class='download'></button>");
          who.attr("id","readyTodownload");
          //ä¸‹è½½å›¾ç‰‡   
          $('.download').click(function(){
          var div=document.getElementById('readyTodownload');
          var img=div.getElementsByTagName('img')[0];
          var url=img.src;
          var a=document.createElement('a');
          var event=new MouseEvent('click');
          a.download = 'Xiaohui-image';
          a.href=url;
          a.dispatchEvent(event);
          })
              
          },function(){
          $(".download").remove();
          who.removeAttr("id");
          });  
        }
        //ç‚¹å‡»å›¾ç‰‡æœ¬èº«èµ‹äºˆçš„åŠŸèƒ½ï¼šç”Ÿæˆåå¼ å›¾å¹¶æ˜¾ç¤ºå‡ºæ¥
        
        function whenClick(whichimg,who,i){
            
            
            whichimg.click(function(){
            
            $("#adddom").remove();
            $("#arrow").remove();
            who.parent().after("<div id='arrow'></div>");
            $("#arrow").css("margin-left","calc(7% + "+(8+17*i)+"vw + 6px)")
            $("#arrow").after("<div id='adddom'></div>");
            
            $("#adddom").append("<div id='domTitle'></div>");
            $("#adddom").append("<div id='domloading'></div>");
            $("#domTitle").append("<p>åŸºäºæ‰€é€‰å›¾ç‰¹å¾å®šå‘ç”Ÿæˆï¼š</p>");
            $("#domTitle").append("<div><button id='domNext'>ä¸‹ä¸€æ‰¹</button></div>");
            
            $("#adddom").append("<div id='domFirst'></div>");
            $("#adddom").append("<div id='domSecond'></div>");
            $("#domFirst").append("<div></div><div></div><div></div><div></div><div></div>");
            
            $("#domSecond").append("<div></div><div></div><div></div><div></div><div></div>");
            start($("#domloading"),15); 
          
            $('#domFirst div').each(function(i){
                $(this).append("<img src='#' />");
                whenHover($(this));
               
            });
            $('#domSecond div').each(function(i){
                $(this).append("<img src='#' />");
                whenHover($(this));
                
            });
            $("#domFirst").hide();
            $("#domSecond").hide();
            postImage(i);
            $("#domNext").on("click",function(){
             $("#domloading").show();
             $("#domFirst").hide();
             $("#domSecond").hide();
             postImage(i);
            });
            })
		 
        }
        
        //ç»™æ¯ä¸ªdivèµ‹äºˆhoverå’Œç‚¹å‡»åŠŸèƒ½
        
        
        $('#demoFirstline div').each(function(i){
        var imgClick=this.getElementsByTagName("img")[0];
        whenClick($(imgClick),$(this),i);
        whenHover($(this));
        })
        $('#demoSecondline div').each(function(i){
        var imgClick=this.getElementsByTagName("img")[0];
        whenClick($(imgClick),$(this),i+5);
        whenHover($(this));
        })
        
        
        
    }
    //æ›´æ–°èƒ½åŠ›æ¼”ç¤ºå›¾ç‰‡ 
       $("#demoloading").show();
       $("#demoPart").hide();
        var imageObject={};
        function getImage(){
          
          $.ajax({
            type:'GET',
            url:'/style-gan-get?number=10',
            success:function(data){
                /*console.log(data.result[0].latent);*/
                var i=0;
                var j=5;
                $("#demoFirstline div").each(function(){
                $(this).find("img").attr('src',"data:image/png;base64,"+data.result[i].image);
                imageObject[i]=data.result[i].latent;
                
                i++;
                });
                $("#demoSecondline div").each(function(){
                $(this).find("img").attr('src',"data:image/png;base64,"+data.result[j].image);
                imageObject[j]=data.result[j].latent;
                j++;
                });
                $("#triggerone").trigger("click");
                $("#demoloading").hide();
                $("#demoPart").show();
                $("#domloading").show();
                $("#domFirst").hide();
                $("#domSecond").hide();
            },
            error:function(err){
                console.log(err);
            },
        });  
        }
    
    //postéƒ¨åˆ†
         function postImage(i){
         var imgLatent={
         "latent":imageObject[i],
         };

         $.ajax({
            type:'POST',
            url:'/style-gan-post',
            contentType:'application/json',
            data:JSON.stringify(imgLatent),
            dataType:'json',
            success:function(data){
            console.log(data);
            var m=0;
                var j=5;
                $("#domFirst div").each(function(){
                $(this).find("img").attr('src',"data:image/png;base64,"+data.result[m].image);
                /*imageObject[m]=data.result[i].latent;*/
                
                i++;
                });
                $("#domSecond div").each(function(){
                $(this).find("img").attr('src',"data:image/png;base64,"+data.result[j].image);
                /*imageObject[j]=data.result[j].latent;*/
                j++;
                });
                $("#domloading").hide();
                $("#domFirst").show();
                $("#domSecond").show();
            },
            error:function(err){
            console.log(err);
            },
         }); 
         
         }
    //loadingåŠ¨ç”»
    function start(aniPosition,step){
        var i=0;
        setInterval(
        function(){
            
            i += -step;
            aniPosition.css('background-position',"center " + i + "rem");
            
        }, 70);
        
    }     
    start($("#demoloading"),15); 
    
</script>
    
</body>
  
    
   

</html>